var MalinkyAjaxPaging=function(t){var a=function(){function a(t,a,n){var i;return function(){var o=this,e=arguments,r=function(){i=null,n||t.apply(o,e)},p=n&&!i;clearTimeout(i),i=setTimeout(r,a),p&&t.apply(o,e)}}var n=r,i=p,o=g,e=s,h=c,w=m,v=u,x=d,j=y,b=f,T=k,L=_,E=S,I=function(){t.ajax({type:"GET",url:L,dataType:"html",success:function(a){var n=t.parseHTML(a),i=(t(n).find(x),1);for(var o in malinkySettings)t(malinkySettings[o].posts_wrapper).length&&(1==t(n).find(malinkySettings[o].posts_wrapper).length?(t(n).find(malinkySettings[o].posts_wrapper).attr("data-paginator-count",i),t(n).find(malinkySettings[o].posts_wrapper+" "+malinkySettings[o].pagination_wrapper).attr("data-paginator-count",i),i++):t(n).find(malinkySettings[o].posts_wrapper).each(function(a){t(this).attr("data-paginator-count",i),t(this).find(malinkySettings[o].pagination_wrapper).attr("data-paginator-count",i),i++}));var e=t(n).find(x+'[data-paginator-count="'+E+'"] '+j),r=t(x+'[data-paginator-count="'+E+'"] '+j).last(),p=t(x+'[data-paginator-count="'+E+'"] '+j);if(r.after(e),"infinite-scroll"!=v&&"load-more"!=v||(T++,T>b&&(t('#malinky-ajax-pagination-button[data-paginator-count="'+E+'"]').parent().remove(),window.removeEventListener("scroll",H)),L=L.replace(/\/page\/[0-9]*/,"/page/"+T)),"pagination"==v){p.remove(),history.pushState(null,null,L);var l=t(n).find(h+'[data-paginator-count="'+E+'"]');t(h+'[data-paginator-count="'+E+'"]').replaceWith(l)}A()},error:function(t,a){G()},complete:function(){"pagination"==v&&t("body,html").animate({scrollTop:t(x+'[data-paginator-count="'+E+'"]').offset().top-150},400)}})},D=function(){t(h+'[data-paginator-count="'+E+'"]').last().before('<div class="malinky-ajax-pagination-loading" data-paginator-count="'+E+'">'+n+"</div>")},M=function(){t('.malinky-ajax-pagination-loading[data-paginator-count="'+E+'"]').show(),"load-more"!=v&&"infinite-scroll"!=v||t('#malinky-ajax-pagination-button[data-paginator-count="'+E+'"]').text(o)},A=function(){t('.malinky-ajax-pagination-loading[data-paginator-count="'+E+'"]').hide(),"load-more"!=v&&"infinite-scroll"!=v||t('#malinky-ajax-pagination-button[data-paginator-count="'+E+'"]').text(e),clearTimeout(l)},G=function(){t('.malinky-ajax-pagination-loading[data-paginator-count="'+E+'"]').hide(),clearTimeout(l)},H=a(function(){var a=t(document).height()-t(window).scrollTop()-t(window).height();w>a-i&&(M(),I())},250);"infinite-scroll"==v?(D(),t(h+'[data-paginator-count="'+E+'"]').remove(),window.addEventListener("scroll",H)):"load-more"==v?(t(h+'[data-paginator-count="'+E+'"]').last().after('<div class="malinky-load-more"><a href="'+L+'" id="malinky-ajax-pagination-button" class="malinky-load-more__button" data-paginator-count="'+E+'">'+s+"</a></div>"),D(),t(h+'[data-paginator-count="'+E+'"]:not(:has(>a#malinky-ajax-pagination-button[data-paginator-count="'+E+'"]))').remove(),t('#malinky-ajax-pagination-button[data-paginator-count="'+E+'"]').click(function(t){t.preventDefault(),l=setTimeout(M,750),I()})):"pagination"==v&&(D(),t(document).on("click",h+'[data-paginator-count="'+E+'"]',function(t){t.preventDefault(),l=setTimeout(M,750),L=t.target.href,I()}),window.addEventListener("popstate",function(t){L=document.URL,I()}))},n=0,o=1;for(var e in malinkySettings)if(t(malinkySettings[e].posts_wrapper).length&&t(malinkySettings[e].post_wrapper).length&&t(malinkySettings[e].pagination_wrapper).length&&t(malinkySettings[e].next_page_selector).length)for(1==t(malinkySettings[e].posts_wrapper).length?(t(malinkySettings[e].posts_wrapper).attr("data-paginator-count",o),t(malinkySettings[e].posts_wrapper+" "+malinkySettings[e].pagination_wrapper).attr("data-paginator-count",o),o++):t(malinkySettings[e].posts_wrapper).each(function(a){t(this).attr("data-paginator-count",o),t(this).find(malinkySettings[e].pagination_wrapper).attr("data-paginator-count",o),o++}),i=1;i<=t(malinkySettings[e].posts_wrapper).length;i++){var r=malinkySettings[e].ajax_loader,p=(malinkySettings[e].malinky_load_more,malinkySettings[e].malinky_load_more_button,parseInt(malinkySettings[e].infinite_scroll_buffer)),l="",g=malinkySettings[e].loading_more_posts_text,s=malinkySettings[e].load_more_button_text,c=malinkySettings[e].pagination_wrapper,m=t(document).height()-t(c).offset().top,u=malinkySettings[e].paging_type,d=malinkySettings[e].posts_wrapper,y=malinkySettings[e].post_wrapper,f=parseInt(malinkySettings.max_num_pages),k=parseInt(malinkySettings.next_page_number),_=(malinkySettings[e].next_page_selector,t(malinkySettings[e].next_page_selector).attr("href")||malinkySettings.next_page_url),S=++n;a()}}(jQuery);